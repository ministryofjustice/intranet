# Server name must end with .docker when using docker compose + dory
SERVER_NAME=intranet.docker

# DON'T REMOVE THE EQUAL (=) SIGN, THE AUTO GEN SCRIPT NEEDS IT.
# -> Auto generated keys
# JWT_SECRET=
# AWS_CLOUDFRONT_PUBLIC_KEY=
# AWS_CLOUDFRONT_PRIVATE_KEY=
# AWS_CLOUDFRONT_PUBLIC_KEYS_OBJECT=
# # # # # # # # # # # # # # # # # # # # # # # # # #


WP_ENV=development
WP_HOME="http://${SERVER_NAME}"
WP_SITEURL="http://${SERVER_NAME}/wp"

LOOPBACK_URL="http://nginx:8080"

DB_NAME=wordpress
DB_HOST=mariadb
DB_USER=wordpress
DB_PASSWORD=wordpress

OPENSEARCH_VERSION=2.13.0
OPENSEARCH_URL=http://opensearch:9200

CACHE_HOST=redis
CACHE_SCHEME=''


# Used so composer can access GitHub repos, without rate limiting
COMPOSER_TOKEN=''

ACF_PRO_LICENSE=license_placeholder
# Intentionally set to site's URL
# https://www.advancedcustomfields.com/resources/installing-acf-pro-with-composer
ACF_PRO_PASS="${WP_HOME}"


# AWS / WP Offload Media
AWS_DEFAULT_REGION=eu-west-2
# Amazon keys - not set when deployed to Cloud Platform.
AWS_ACCESS_KEY_ID=local-key-id
AWS_SECRET_ACCESS_KEY=local-secret-key
# S3
AWS_S3_BUCKET=local-bucket-name
# Only set if using Minio locally - must start with 'minio' for AmazonS3AndCloudFrontForMinio
AWS_S3_CUSTOM_HOST="minio.${SERVER_NAME}"
# CloudFront (optional)
AWS_CLOUDFRONT_HOST="cdn.${SERVER_NAME}"
AWS_CLOUDFRONT_SCHEME=http
# Serve theme, plugin and WordPress core assets (js, css) via the local CDN.
# Run `./bin/local-run-s3-push.sh` before setting this to `true`.
# Note, you will need to re-run the script whenever
# changes are made to the theme, plugins or WordPress core assets.
DISABLE_CDN_ASSETS=true


# A hexadecimal string to identify the image version when serving assets via the local CDN.
# In deployed environments, this is the full git commit hash.
# Here, it can just be any hex string of 8 characters. e.g. abcd1234
IMAGE_TAG=abcd1234


# The following values should be added for running Sentry during local development
SENTRY_DEV_ID=-[user]
SENTRY_DSN=''


# GOV Notify
# General template and api-key for gov notify
GOV_NOTIFY_API_KEY=""


# Generate your keys here: https://roots.io/salts.html
AUTH_KEY='generate-key'
SECURE_AUTH_KEY='generate-key'
LOGGED_IN_KEY='generate-key'
NONCE_KEY='generate-key'
AUTH_SALT='generate-key'
SECURE_AUTH_SALT='generate-key'
LOGGED_IN_SALT='generate-key'
NONCE_SALT='generate-key'


# Entra API - see readme for more info.
OAUTH_CLIENT_ID=""
OAUTH_TENANT_ID=""
OAUTH_CLIENT_SECRET=""
# Update or comment out `MOJ_AUTH_ENABLED` if `OAUTH_` variables are set.
MOJ_AUTH_ENABLED=false


# IP ranges in nginx geo format. 1 IP range per line, each range is followed by it's IP group value.
# IP group values are set in the nginx config, search for `$ip_group`.
# @see https://nginx.org/en/docs/http/ngx_http_geo_module.html

# Adds the developer local IP into an allow list.
# Meaning you will not be redirected to login via Entra during local development.
# Don't worry about the following entry in Nginx init log...
# [warn] 1#1: duplicate network "0.0.0.0/0", value: "1", old value: "0" in /etc/nginx/geo.conf:1
IPS_FORMATTED="0.0.0.0/0  1;"

# Or, adds the developer local IP into a group that needs to authenticate via Entra.
# This example is for testing authentication flow - see README for more information
# IPS_FORMATTED="0.0.0.0/0  0;"

# The following config is similar to what is used in deployed environments.
# The proxy entries define IPs for which the module will trust the `X-Forwarded-For` header.
#
# IPS_FORMATTED="
# proxy 172.17.0.0/16;
# proxy 172.25.0.0/16;
#
# 192.168.65.1   1;
# 192.168.65.3   2;"


# If the intranet archive is running locally, set the URL here
INTRANET_ARCHIVE_URL="http://app.archive.intranet.docker/access"
